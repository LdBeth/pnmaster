 imagetype←{
     (11=⎕DR ⍵)∧2=⍴⍴⍵:'P4'
     maxval←(255≥⌈/,⍵)∧(0≤⌊/,⍵)∧∧/,(⌊=⊢)⍵
     maxval∧2=⍴⍴⍵:'P5'
     maxval∧(3=⊃∧3=⍴)⍴⍵:'P6'
     ⎕SIGNAL⊂('EN' 6)('Message' 'Unknown image type')
 }
